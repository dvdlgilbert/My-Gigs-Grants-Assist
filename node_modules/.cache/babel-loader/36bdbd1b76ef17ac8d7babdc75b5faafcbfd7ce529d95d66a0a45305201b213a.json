{"ast":null,"code":"import React,{useState}from\"react\";import{findGrants}from\"./services/geminiService\";import ProfileForm from\"./components/ProfileForm\";// ✅ import your cleaner form\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GrantFinder=()=>{const[profile,setProfile]=useState({orgName:\"\",taxId:\"\",mission:\"\",goals:\"\",needs:\"\",address:\"\",contactName:\"\",contactPhone:\"\",email:\"\",website:\"\"});const[results,setResults]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[showForm,setShowForm]=useState(true);const handleSaveProfile=async updatedProfile=>{setProfile(updatedProfile);setShowForm(false);setLoading(true);setError(null);try{const recs=await findGrants(updatedProfile);setResults(recs);}catch(err){setError(err.message||\"Search failed\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"grant-finder\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Grant Finder\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter your nonprofit profile to discover funding opportunities.\"}),showForm?/*#__PURE__*/_jsx(ProfileForm,{profile:profile,onSave:handleSaveProfile,onBack:()=>setShowForm(false)}):/*#__PURE__*/_jsxs(\"div\",{className:\"results mt-4 space-y-3\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Searching for grants...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:error}),results.length===0&&!loading&&/*#__PURE__*/_jsx(\"p\",{children:\"No grants found. Try adjusting your profile.\"}),results.map((grant,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-md p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold\",children:grant.grantName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-700\",children:[\"Funder: \",grant.funderName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:grant.description}),/*#__PURE__*/_jsx(\"a\",{href:grant.website,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 underline text-sm\",children:\"Visit Website\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 mt-1\",children:grant.matchReason})]},idx)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"mt-4 bg-slate-200 px-4 py-2 rounded-md hover:bg-slate-300\",children:\"Edit Profile\"})]})]});};export default GrantFinder;","map":{"version":3,"names":["React","useState","findGrants","ProfileForm","jsx","_jsx","jsxs","_jsxs","GrantFinder","profile","setProfile","orgName","taxId","mission","goals","needs","address","contactName","contactPhone","email","website","results","setResults","loading","setLoading","error","setError","showForm","setShowForm","handleSaveProfile","updatedProfile","recs","err","message","className","children","onSave","onBack","length","map","grant","idx","grantName","funderName","description","href","target","rel","matchReason","onClick"],"sources":["C:/Users/david/My-Gigs-Grants-Assist/src/GrantFinder.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { findGrants } from \"./services/geminiService\";\r\nimport type { NonprofitProfile, GrantRecommendation } from \"./types\";\r\nimport ProfileForm from \"./components/ProfileForm\"; // ✅ import your cleaner form\r\n\r\nconst GrantFinder: React.FC = () => {\r\n  const [profile, setProfile] = useState<NonprofitProfile>({\r\n    orgName: \"\",\r\n    taxId: \"\",\r\n    mission: \"\",\r\n    goals: \"\",\r\n    needs: \"\",\r\n    address: \"\",\r\n    contactName: \"\",\r\n    contactPhone: \"\",\r\n    email: \"\",\r\n    website: \"\",\r\n  });\r\n\r\n  const [results, setResults] = useState<GrantRecommendation[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showForm, setShowForm] = useState(true);\r\n\r\n  const handleSaveProfile = async (updatedProfile: NonprofitProfile) => {\r\n    setProfile(updatedProfile);\r\n    setShowForm(false);\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const recs = await findGrants(updatedProfile);\r\n      setResults(recs);\r\n    } catch (err: any) {\r\n      setError(err.message || \"Search failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"grant-finder\">\r\n      <h3>Grant Finder</h3>\r\n      <p>Enter your nonprofit profile to discover funding opportunities.</p>\r\n\r\n      {showForm ? (\r\n        <ProfileForm\r\n          profile={profile}\r\n          onSave={handleSaveProfile}\r\n          onBack={() => setShowForm(false)}\r\n        />\r\n      ) : (\r\n        <div className=\"results mt-4 space-y-3\">\r\n          {loading && <p>Searching for grants...</p>}\r\n          {error && <p className=\"text-red-600\">{error}</p>}\r\n          {results.length === 0 && !loading && (\r\n            <p>No grants found. Try adjusting your profile.</p>\r\n          )}\r\n          {results.map((grant, idx) => (\r\n            <div key={idx} className=\"border rounded-md p-3\">\r\n              <h4 className=\"font-bold\">{grant.grantName}</h4>\r\n              <p className=\"text-sm text-slate-700\">Funder: {grant.funderName}</p>\r\n              <p className=\"text-sm\">{grant.description}</p>\r\n              <a\r\n                href={grant.website}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-blue-600 underline text-sm\"\r\n              >\r\n                Visit Website\r\n              </a>\r\n              <p className=\"text-xs text-slate-500 mt-1\">{grant.matchReason}</p>\r\n            </div>\r\n          ))}\r\n          <button\r\n            onClick={() => setShowForm(true)}\r\n            className=\"mt-4 bg-slate-200 px-4 py-2 rounded-md hover:bg-slate-300\"\r\n          >\r\n            Edit Profile\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GrantFinder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}