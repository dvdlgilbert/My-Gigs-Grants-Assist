{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ProjectCard from\"./ProjectCard\";import\"./Projects.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Projects(_ref){let{onNavigate,onSelect}=_ref;const[projects,setProjects]=useState([]);// Load projects from localStorage on mount\nuseEffect(()=>{const stored=localStorage.getItem(\"projects\");if(stored){setProjects(JSON.parse(stored));}else{// Seed with dummy projects if none exist\nconst seed=[{id:\"1\",grantTitle:\"Community Outreach Program\",funder:\"Local Foundation\",proposal:\"\",status:\"Draft\",lastEdited:new Date().toISOString()},{id:\"2\",grantTitle:\"Youth Education Initiative\",funder:\"National Grant Fund\",proposal:\"\",status:\"Draft\",lastEdited:new Date().toISOString()}];setProjects(seed);localStorage.setItem(\"projects\",JSON.stringify(seed));}},[]);// Save projects to localStorage whenever they change\nuseEffect(()=>{localStorage.setItem(\"projects\",JSON.stringify(projects));},[projects]);const handleOpen=project=>{onSelect(project);onNavigate(\"workspace\");};const handleDelete=id=>{if(window.confirm(\"Are you sure you want to delete this project?\")){setProjects(projects.filter(p=>p.id!==id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"projects-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Projects\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage your grant projects below.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"projects-list\",children:projects.map(project=>/*#__PURE__*/_jsx(ProjectCard,{title:project.grantTitle,funder:project.funder,onOpen:()=>handleOpen(project),onDelete:()=>handleDelete(project.id)},project.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","ProjectCard","jsx","_jsx","jsxs","_jsxs","Projects","_ref","onNavigate","onSelect","projects","setProjects","stored","localStorage","getItem","JSON","parse","seed","id","grantTitle","funder","proposal","status","lastEdited","Date","toISOString","setItem","stringify","handleOpen","project","handleDelete","window","confirm","filter","p","className","children","map","title","onOpen","onDelete"],"sources":["C:/Users/david/My-Gigs-Grants-Assist/src/Projects.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ProjectCard from \"./ProjectCard\";\r\nimport \"./Projects.css\";\r\nimport type { GrantProject } from \"./types\";\r\n\r\nexport default function Projects({\r\n  onNavigate,\r\n  onSelect,\r\n}: {\r\n  onNavigate: (view: string) => void;\r\n  onSelect: (project: GrantProject) => void;\r\n}) {\r\n  const [projects, setProjects] = useState<GrantProject[]>([]);\r\n\r\n  // Load projects from localStorage on mount\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"projects\");\r\n    if (stored) {\r\n      setProjects(JSON.parse(stored));\r\n    } else {\r\n      // Seed with dummy projects if none exist\r\n      const seed: GrantProject[] = [\r\n        {\r\n          id: \"1\",\r\n          grantTitle: \"Community Outreach Program\",\r\n          funder: \"Local Foundation\",\r\n          proposal: \"\",\r\n          status: \"Draft\",\r\n          lastEdited: new Date().toISOString(),\r\n        },\r\n        {\r\n          id: \"2\",\r\n          grantTitle: \"Youth Education Initiative\",\r\n          funder: \"National Grant Fund\",\r\n          proposal: \"\",\r\n          status: \"Draft\",\r\n          lastEdited: new Date().toISOString(),\r\n        },\r\n      ];\r\n      setProjects(seed);\r\n      localStorage.setItem(\"projects\", JSON.stringify(seed));\r\n    }\r\n  }, []);\r\n\r\n  // Save projects to localStorage whenever they change\r\n  useEffect(() => {\r\n    localStorage.setItem(\"projects\", JSON.stringify(projects));\r\n  }, [projects]);\r\n\r\n  const handleOpen = (project: GrantProject) => {\r\n    onSelect(project);\r\n    onNavigate(\"workspace\");\r\n  };\r\n\r\n  const handleDelete = (id: string) => {\r\n    if (window.confirm(\"Are you sure you want to delete this project?\")) {\r\n      setProjects(projects.filter((p) => p.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"projects-container\">\r\n      <h2>Projects</h2>\r\n      <p>Manage your grant projects below.</p>\r\n\r\n      <div className=\"projects-list\">\r\n        {projects.map((project) => (\r\n          <ProjectCard\r\n            key={project.id}\r\n            title={project.grantTitle}\r\n            funder={project.funder}\r\n            onOpen={() => handleOpen(project)}\r\n            onDelete={() => handleDelete(project.id)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGxB,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAM7B,IAN8B,CAC/BC,UAAU,CACVC,QAIF,CAAC,CAAAF,IAAA,CACC,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAiB,EAAE,CAAC,CAE5D;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC/C,GAAIF,MAAM,CAAE,CACVD,WAAW,CAACI,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC,CAAC,CACjC,CAAC,IAAM,CACL;AACA,KAAM,CAAAK,IAAoB,CAAG,CAC3B,CACEC,EAAE,CAAE,GAAG,CACPC,UAAU,CAAE,4BAA4B,CACxCC,MAAM,CAAE,kBAAkB,CAC1BC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACrC,CAAC,CACD,CACEP,EAAE,CAAE,GAAG,CACPC,UAAU,CAAE,4BAA4B,CACxCC,MAAM,CAAE,qBAAqB,CAC7BC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,OAAO,CACfC,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACrC,CAAC,CACF,CACDd,WAAW,CAACM,IAAI,CAAC,CACjBJ,YAAY,CAACa,OAAO,CAAC,UAAU,CAAEX,IAAI,CAACY,SAAS,CAACV,IAAI,CAAC,CAAC,CACxD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACAjB,SAAS,CAAC,IAAM,CACda,YAAY,CAACa,OAAO,CAAC,UAAU,CAAEX,IAAI,CAACY,SAAS,CAACjB,QAAQ,CAAC,CAAC,CAC5D,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAkB,UAAU,CAAIC,OAAqB,EAAK,CAC5CpB,QAAQ,CAACoB,OAAO,CAAC,CACjBrB,UAAU,CAAC,WAAW,CAAC,CACzB,CAAC,CAED,KAAM,CAAAsB,YAAY,CAAIZ,EAAU,EAAK,CACnC,GAAIa,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAE,CACnErB,WAAW,CAACD,QAAQ,CAACuB,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAAChB,EAAE,GAAKA,EAAE,CAAC,CAAC,CAClD,CACF,CAAC,CAED,mBACEb,KAAA,QAAK8B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCjC,IAAA,OAAAiC,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBjC,IAAA,MAAAiC,QAAA,CAAG,mCAAiC,CAAG,CAAC,cAExCjC,IAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B1B,QAAQ,CAAC2B,GAAG,CAAER,OAAO,eACpB1B,IAAA,CAACF,WAAW,EAEVqC,KAAK,CAAET,OAAO,CAACV,UAAW,CAC1BC,MAAM,CAAES,OAAO,CAACT,MAAO,CACvBmB,MAAM,CAAEA,CAAA,GAAMX,UAAU,CAACC,OAAO,CAAE,CAClCW,QAAQ,CAAEA,CAAA,GAAMV,YAAY,CAACD,OAAO,CAACX,EAAE,CAAE,EAJpCW,OAAO,CAACX,EAKd,CACF,CAAC,CACC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}